# üé¨ UGC service API

**FastAPI API** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å —Ñ–∏–ª—å–º–∞–º–∏: **–ª–∞–π–∫–∏**, **–æ—Ç–∑—ã–≤—ã**, **–∑–∞–∫–ª–∞–¥–∫–∏** –∏ **–ø—Ä–æ—Å–º–æ—Ç—Ä—ã**.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT
- ‚ù§Ô∏è –õ–∞–π–∫–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥ —Ñ–∏–ª—å–º–æ–≤
- üìù –û—Ç–∑—ã–≤—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ª–∞–π–∫–æ–≤/–¥–∏–∑–ª–∞–π–∫–æ–≤
- üìå –ó–∞–∫–ª–∞–¥–∫–∏ —Ñ–∏–ª—å–º–æ–≤
- üé• –£—á—ë—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤

#### üéûÔ∏è –§–∏–ª—å–º—ã
- POST `/movies/movie_timestamp/` ‚Äî –û—Ç–º–µ—Ç–∏—Ç—å —Ñ–∏–ª—å–º –∫–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–π
- GET `/movies/users/{user_id}/movie_timestamps/` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### ‚ù§Ô∏è –õ–∞–π–∫–∏
- POST `/likes/` ‚Äî –ü–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫ —Ñ–∏–ª—å–º—É —Å –æ—Ü–µ–Ω–∫–æ–π
- GET `/likes/movies/{movie_id}/likes/` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ª–∞–π–∫–∏ —Ñ–∏–ª—å–º–∞
- GET `/likes/movies/{movie_id}/average_rating/` ‚Äî –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ —Ñ–∏–ª—å–º–∞
- DELETE `/likes/{like_id}/` ‚Äî –£–¥–∞–ª–∏—Ç—å –ª–∞–π–∫

#### üìù –û—Ç–∑—ã–≤—ã
- POST `/reviews/` ‚Äî –°–æ–∑–¥–∞—Ç—å –æ—Ç–∑—ã–≤
- GET `/reviews/movies/{movie_id}/reviews/` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–∑—ã–≤—ã –æ —Ñ–∏–ª—å–º–µ
- POST `/reviews/{review_id}/like/` ‚Äî –õ–∞–π–∫–Ω—É—Ç—å –æ—Ç–∑—ã–≤
- POST `/reviews/{review_id}/dislike/` ‚Äî –î–∏–∑–ª–∞–π–∫–Ω—É—Ç—å –æ—Ç–∑—ã–≤
- DELETE `/reviews/{review_id}/` ‚Äî –£–¥–∞–ª–∏—Ç—å –æ—Ç–∑—ã–≤

#### üìå –ó–∞–∫–ª–∞–¥–∫–∏
- POST `/bookmarks/` ‚Äî –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º –≤ –∑–∞–∫–ª–∞–¥–∫–∏
- GET `/bookmarks/users/{user_id}/bookmarks/` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- DELETE `/bookmarks/{bookmark_id}/` ‚Äî –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫—É

#### üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
MongoDB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. 
–í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–µ _id (—Ç–∏–ø ObjectId). –°—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ñ–∏–ª—å–º —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏.


### –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö 
docker exec graduate_work-ugc_service-1 python scripts/pg_to_mongo_transfer.py - —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã —Ñ–∏–ª—å–º–æ–≤ –∏–∑ –ø–æ—Å—Ç–≥—Ä–µ—Å–∞ –≤ –º–æ–Ω–≥–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ –Ω–∏–º —Å–æ–±—ã—Ç–∏–π
docker exec graduate_work-ugc_service-1 python scripts/generate_data.py - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π

