 ┌─────────────────────────────┐
 │ 🎥 UGC-сервис (FastAPI)     │
 │  - Лайки, комментарии       │
 │  - Просмотры фильмов        │
 └──────────────▲──────────────┘
                │ (Kafka: "user_events")
 ┌──────────────┴──────────────┐
 │ 📨 Kafka (Очередь событий)  │
 │  - user_events              │
 └──────────────▲──────────────┘
                │
 ┌──────────────┴──────────────┐
 │ 🤖 Recommendation API       │
 │  - Обрабатывает события     │
 │  - Обновляет рекомендации   │
 └──────────────▲──────────────┘
                │
 ┌──────────────┴──────────────┐
 │ 🧠 ML-сервис                │
 │  - Анализирует поведение    │
 │  - Обучает модель           │
 └──────────────▲──────────────┘
                │
 ┌──────────────┴──────────────┐
 │ 🏪 Redis / PostgreSQL       │
 │  - Хранит рекомендации      │
 └─────────────────────────────┘


1 сервис etl получающий информацию из кафки (можно использовать имеющиеся ugc_service И etl)
UGC_service + etl +clickhouse

Что собираем?

Просмотры фильмов
Лайки/дизлайки
Предпочитаемые жанры
Время просмотра
Клики на рекомендации

2 сервис ml для анализа полученой информации и составления списка рекомендаций
прочтение данных преобразование их направление в анализ, проведение анализа составление списка рекомендаций 

модель данных

class Event(BaseModel):
    user_id: str
    event_type: str
    id_film: str = None
    film: str = None
    genre:str = None
    time: int = None

3 сервис проводящий обработку и обновление рекомендаций, который использует сервис анализа
отправляет запросы на обновление рекомендаций (периодически)
Выдаёт список рекомендованных фильмов
Обновляет рекомендации

4 каффка 
